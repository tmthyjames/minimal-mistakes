---
title: Meet Bot, Don King
author_profile: true
author: Tim Dobbins
excerpt: Bot, Don King is an automatic Reddit promoter. A while back I was experimenting with trying to optimize my Reddit upvotes and the following is what materialized.
categories: [projects]
tags: [python, reddit, web-scraping, tools]
comments: true
---


<link rel="stylesheet" type="text/css" href="/assets/css/ipython.css"><div class="cell text_cell rendered un" tabs="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59027px; left: 436.615px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabs="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabs="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 211px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-link">[Bot, Don King]</span><span class="cm-string cm-url">(https://github.com/tmthyjames/</span><span class="cm-string cm-url cm-cm-overlay cm-matchhighlight">botdonking</span><span class="cm-string cm-url">)</span> is an automatic Reddit promoter. A while back I was experimenting with trying to optimize my Reddit upvotes and the following is what materialized.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">The best way to get more upvotes is to post during peak hours, right? Well, it would be to difficult to try and post multiple subreddits when each subreddit has a different peak time. Enter this really cool <span class="cm-link">[subreddit analysis tool]</span><span class="cm-string cm-url">(https://dashboard.laterforreddit.com/analysis/)</span>. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">If you go to that site and open up the Network tab in Chrome's Dev Tools, you'll notice that when you enter a subreddit name and click "Analyze Subreddit Traffic" it makes a <span class="cm-comment">`POST`</span> request with a payload containing a few different parameters:</span></pre></div></div></div></div></div></div></div></div><div class="text_cell_render rendered_html" tabs="-1"><p><a href="https://github.com/tmthyjames/botdonking" target="_blank">Bot, Don King</a> is an automatic Reddit promoter. A while back I was experimenting with trying to optimize my Reddit upvotes and the following is what materialized.</p>
<p>The best way to get more upvotes is to post during peak hours, right? Well, it would be to difficult to try and post multiple subreddits when each subreddit has a different peak time. Enter this really cool <a href="https://dashboard.laterforreddit.com/analysis/" target="_blank">subreddit analysis tool</a>. </p>
<p>If you go to that site and open up the Network tab in Chrome's Dev Tools, you'll notice that when you enter a subreddit name and click "Analyze Subreddit Traffic" it makes a <code>POST</code> request with a payload containing a few different parameters:</p>
</div></div></div><div class="cell code_cell unrendered " tabs="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div><div class="inner_cell"><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 55.5902px; left: 128.924px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabs="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabs="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 4813.69px; margin-bottom: 0px; border-right-width: 30px; min-height: 228px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">url</span> = <span class="cm-string">"https://dashboard.laterforreddit.com/graphql"</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">payload</span> = {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-string">u'operationName'</span>: <span class="cm-string">u'analysis'</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-string">u'</span><span class="cm-string cm-cm-overlay cm-matchhighlight">query</span><span class="cm-string">'</span>: <span class="cm-string">u'</span><span class="cm-string cm-cm-overlay cm-matchhighlight">query</span><span class="cm-string"> analysis($subreddit: String!, $threshold: Int!, $tzid: String, $tzoffset: Int) {\n  subreddit_suggestions(subreddit: $subreddit) {\n    subreddit\n    weight\n    normalized_weight\n    __typename\n  }\n  analysis(subreddit: $subreddit, threshold: $threshold, timezone_id: $tzid, timezone_offset: $tzoffset) {\n    overall\n    daily {\n      count\n      labels\n      datasets {\n        data\n        __typename\n      }\n      __typename\n    }\n    hourly {\n      count\n      labels\n      datasets {\n        data\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n'</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-string">u'variables'</span>: {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">u'subreddit'</span>: <span class="cm-string">u'/'</span><span class="cm-operator">+</span><span class="cm-variable">subreddit</span><span class="cm-operator">+</span><span class="cm-string">''</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">u'threshold'</span>: <span class="cm-number">5</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">u'tzid'</span>: <span class="cm-string">u'America/Chicago'</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">u'tzoffset'</span>: <span class="cm-number">300</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">response</span> = <span class="cm-variable">requests</span>.<span class="cm-property">request</span>(<span class="cm-string">"POST"</span>, <span class="cm-variable">url</span>, <span class="cm-variable">data</span>=<span class="cm-variable">json</span>.<span class="cm-property">dumps</span>(<span class="cm-variable">payload</span>))</span></pre><pre class=" CodeMirror-line " style="display: none;"><span style="padding-right: 0.1px;">        <span class="cm-string">u'tzoffset'</span>: <span class="cm-number">300</span></span></pre></div></div></div></div></div></div></div></div></div></div><div class="widget-area" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div class=" prompt" title="click to expand output; double click to hide output" style="display: none;"></div><div class="output" style="display: none;"></div><div class="btn btn-default output_collapsed" title="click to expand output" style="display: none;">. . .</div></div></div><div class="cell text_cell rendered un" tabs="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 138.368px; left: 321.163px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabs="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabs="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 161px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">You can see the rest of the source code <span class="cm-link">[here]</span><span class="cm-string cm-url">(https://github.com/tmthyjames/botdonking/blob/master/botdonking.py#L40)</span>.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">The returned JSON data will contain the optimal day and optimal hour. With this information you can schedule a job in python using this really handy <span class="cm-link">[schedule]</span><span class="cm-string cm-url">(https://github.com/dbader/schedule)</span> library.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">After you have your posts queued up, you can use <span class="cm-link">[this Reddit API Wrapper]</span><span class="cm-string cm-url">(https://praw.readthedocs.io/en/latest/)</span>.</span></pre></div></div></div></div></div></div></div></div><div class="text_cell_render rendered_html" tabs="-1"><p>You can see the rest of the source code <a href="https://github.com/tmthyjames/botdonking/blob/master/botdonking.py#L40" target="_blank">here</a>.</p>
<p>The returned JSON data will contain the optimal day and optimal hour. With this information you can schedule a job in python using this really handy <a href="https://github.com/dbader/schedule" target="_blank">schedule</a> library.</p>
<p>After you have your posts queued up, you can use <a href="https://praw.readthedocs.io/en/latest/" target="_blank">this Reddit API Wrapper</a>.</p>
</div></div></div><div class="cell text_cell rendered un" tabs="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59027px; left: 144.132px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabs="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabs="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 28px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Here's an example:</span></pre></div></div></div></div></div></div></div></div><div class="text_cell_render rendered_html" tabs="-1"><p>Here's an example:</p>
</div></div></div><div class="cell code_cell unrendered un" tabs="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div><div class="inner_cell"><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 88.9237px; left: 528.924px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabs="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabs="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 572.514px; margin-bottom: 0px; border-right-width: 30px; min-height: 244px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">urls_subreddits</span> = {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-string">'http://www.yourblog.com/your-article'</span>: { <span class="cm-comment"># URL</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">'title'</span>: <span class="cm-string">'Check out this article'</span>, <span class="cm-comment"># title of the article</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">'subreddits'</span>: [<span class="cm-string">'python'</span>, <span class="cm-string">'rstats'</span>], <span class="cm-comment">#subreddit you want to post to</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-string">'http://www.yourblog.com/your-other-article'</span>: { <span class="cm-comment"># repeat n </span><span class="cm-comment cm-cm-overlay cm-matchhighlight">times</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">'title'</span>: <span class="cm-string">'this is still a test'</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-string">'subreddits'</span>: [<span class="cm-string">'pystats'</span>, <span class="cm-string">'datascience'</span>, <span class="cm-string">'statistics'</span>],</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">dk</span> = <span class="cm-variable">DonKing</span>(<span class="cm-variable">urls_subreddits</span>)</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">dk</span>.<span class="cm-property">queue_articles</span>()</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">dk</span>.<span class="cm-property">promote</span>()</span></pre></div></div></div></div></div></div></div></div></div></div><div class="widget-area" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div class=" prompt" title="click to expand output; double click to hide output" style="display: none;"></div><div class="output" style="display: none;"></div><div class="btn btn-default output_collapsed" title="click to expand output" style="display: none;">. . .</div></div></div><div class="cell text_cell rendered un" tabs="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 138.924px; left: 51.7708px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabs="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabs="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; min-height: 161px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">The <span class="cm-comment">`urls_subreddits`</span> object contains your URL, title, and the subreddits (can post in multiple) you want to post in. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-comment">`dk.queue_articles()`</span> will find the peak day/hour for each subreddit and queue the article up to be posted.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-comment">`dk.promote()`</span> will actually post your article to the subreddits you specified.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Enjoy!</span></pre></div></div></div></div></div></div></div></div><div class="text_cell_render rendered_html" tabs="-1"><p>The <code>urls_subreddits</code> object contains your URL, title, and the subreddits (can post in multiple) you want to post in. </p>
<p><code>dk.queue_articles()</code> will find the peak day/hour for each subreddit and queue the article up to be posted.</p>
<p><code>dk.promote()</code> will actually post your article to the subreddits you specified.</p>
<p>Enjoy!</p>
</div></div></div>

{% include disqus.html %}